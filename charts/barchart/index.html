<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>barchart - Juttle Visualization Library</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  <link href="../../custom_theme/extra.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "barchart";
    var mkdocs_page_input_path = "charts/barchart.md";
    var mkdocs_page_url = "/charts/barchart/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
  <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

      ga('create', 'UA-45515012-3', 'auto');
      ga('send', 'pageview');
  </script>
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Juttle Visualization Library</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
  
    <li class="toctree-l1 ">
        <a class="" href="../..">About</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  
<li>
          
            <li>
  
    <li class="toctree-l1 current">
        <a class="current" href="./">barchart</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  
<li>
          
            <li>
  
    <li class="toctree-l1 ">
        <a class="" href="../events/">events</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  
<li>
          
            <li>
  
    <li class="toctree-l1 ">
        <a class="" href="../file/">file</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  
<li>
          
            <li>
  
    <li class="toctree-l1 ">
        <a class="" href="../less/">less</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  
<li>
          
            <li>
  
    <li class="toctree-l1 ">
        <a class="" href="../markdown/">markdown</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  
<li>
          
            <li>
  
    <li class="toctree-l1 ">
        <a class="" href="../text/">text</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  
<li>
          
            <li>
  
    <li class="toctree-l1 ">
        <a class="" href="../piechart/">piechart</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  
<li>
          
            <li>
  
    <li class="toctree-l1 ">
        <a class="" href="../scatterchart/">scatterchart</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  
<li>
          
            <li>
  
    <li class="toctree-l1 ">
        <a class="" href="../table/">table</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  
<li>
          
            <li>
  
    <li class="toctree-l1 ">
        <a class="" href="../tile/">tile</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  
<li>
          
            <li>
  
    <li class="toctree-l1 ">
        <a class="" href="../timechart/">timechart</a>
<!-- Removed the subsection list that duplicates subsection title in most cases -->
    </li>
  
<li>
          
            <li>
  
<li>
          
            <li>
  
<li>
          
            <li>
  
<li>
          
            <li>
  
<li>
          
            <li>
  
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Juttle Visualization Library</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
    
    <li>barchart</li>
    <li class="wy-breadcrumbs-aside">
      
        
          
            <a href="https://github.com/juttle/juttle-viz/blob/master/docs/charts/barchart.md" class="icon icon-github"> Edit on GitHub</a>
          
        
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="barchart">barchart</h1>
<p>Display the output as vertical or horizontal bars for comparing different categories of data.</p>
<p><img alt="" src="../../images/screenshots/view_barchart.png" /></p>
<p><img alt="information_source" class="custom_emoji" height="30" src="../../images/emoji/information_source.png" width="30" /> | Note: When working with batched data, only values from the last batch are displayed. See <code>-resetCategories</code> below for more details on how categories are treated across batches.</p>
<pre><code>view barchart -o {
   categoryField: 'fieldname',
   id: 'string',
   title: 'string',
   color: 'color',
   negativeColor: 'color',
   colorful: true|false,
   orientation: 'vertical'|'horizontal',
   resetCategories: n,
   xScale: {
     label: 'auto'|'fieldname'
   },
   yScales: {
     primary: {
       label: 'fieldname',
       tickFormat: 'd3FormatString',
       minValue: 'fieldname',
       maxValue: 'fieldname'
       displayOnAxis: 'axisname'
     }
   },
   valueField: 'fieldname',
   tooltip: {
     nameField: 'fieldname',
     valueField: 'fieldname',
     valueFormat: 'd3FormatString'
   }
}
</code></pre>

<p><em>or</em></p>
<pre><code>view barchart -id 'string' -title: 'string'
  -color 'color' -negativeColor 'color'
   -orientation 'vertical'|'horizontal' -resetCategories n
   -colorful true|false -xScale.label 'fieldname'
   -yScales.primary.label 'auto'|'fieldname' -yScales.primary.tickFormat 'd3FormatString' -yScales.primary.minValue 'fieldname' -yScales.primary.maxValue 'fieldname' -yScales.primary.displayOnAxis 'axisname'
   -categoryField 'fieldname' -valueField 'fieldname'
   -tooltip.nameField 'fieldname' -tooltip.valueField 'fieldname' -tooltip.valueFormat 'd3FormatString'
</code></pre>

<p>See <a href="../..#defining-view-parameters">Defining sink parameters</a> for an explanation of how sink parameters can be expressed as object literals.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
<th align="right">Required?</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>-id</code></td>
<td>An identifier for this sink that serves as a handle for referencing the object in Juttle syntax; conceptually identical to a variable name</td>
<td align="right">No</td>
</tr>
<tr>
<td><code>-title</code></td>
<td>The title for the user-visible output, if it has one; the value may be any valid Juttle expression that produces a string</td>
<td align="right">No; defaults to the name field that is present in all metrics points</td>
</tr>
<tr>
<td><code>-categoryField</code></td>
<td>The name of the field to use as the category accessor. Categories are displayed in the order in which they appear in the data stream, from left to right or, in the case of horizontal bars, from top to bottom.</td>
<td align="right">No; if there is only one field in the incoming data besides time, source_type,value, and name, then that field becomes the category accessor</td>
</tr>
<tr>
<td><code>-valueField</code></td>
<td>The name of the field to use as the source for the numeric values</td>
<td align="right">No; defaults to the <code>value</code> field that is present in all metrics points. If no value field is present, the first numeric field in the stream is used.</td>
</tr>
<tr>
<td><code>-color</code></td>
<td>The color to use for positive bars, specified with any <a href="http://www.w3.org/TR/css3-color/">CSS3-supported hex or name value</a></td>
<td align="right">No; if not specified, a color is selected from the built-in palette</td>
</tr>
<tr>
<td><code>-negativeColor</code></td>
<td>The color to use for negative bars, specified with any <a href="http://www.w3.org/TR/css3-color/">CSS3-supported hex or name value</a></td>
<td align="right">No; if not specified, a color is selected from the built-in palette</td>
</tr>
<tr>
<td><code>-colorful</code></td>
<td>When this is true, each bar in the chart is displayed in a different color.</td>
<td align="right">No</td>
</tr>
<tr>
<td><code>-orientation</code></td>
<td>The orientation of the bars, either vertical or horizontal</td>
<td align="right">No; default is vertical</td>
</tr>
<tr>
<td><code>-resetCategories</code></td>
<td><p>An integer indicating the number of batches before the bar chart resets its internal list of sorted categories. This is useful only with live streaming data, particularly if the set of categories in your data changes from batch to batch and you want to periodically remove stale categories. </p><p>The default behavior is to display all categories seen in all batches. When a category disappears from the data stream, its bar is replaced by a gap indicating a null value. When a new category appears, a new bar appears to the right of all existing bars. </p><p>Set this to zero to reset on every batch, so that the bar chart always displays the categories for the current batch only. Set this to a value greater than zero to refresh the category list on every n<sup>th</sup> batch.</p></td>
<td align="right">No; defaults to never</td>
</tr>
<tr>
<td><code>-xScale.label</code></td>
<td>The label to display under the X axis</td>
<td align="right">No; default is the name of the <code>-categoryField</code></td>
</tr>
<tr>
<td><code>-yScales.primary.label</code></td>
<td>A string to label the Y axis</td>
<td align="right">No; default is the name of the <code>-valueField</code></td>
</tr>
<tr>
<td><code>-yScales.primary.tickFormat</code></td>
<td>Customize the unit display for the Y axis, using the <a href="https://github.com/mbostock/d3/wiki/Formatting">d3 number formatting syntax</a></td>
<td align="right">No</td>
</tr>
<tr>
<td><code>-yScales.primary.minValue</code></td>
<td>The value at the bottom of the Y scale</td>
<td align="right">No; the default is automatically derived from your data</td>
</tr>
<tr>
<td><code>-yScales.primary.maxValue</code></td>
<td>The value at the top of the Y scale</td>
<td align="right">No; the default is automatically derived from your data</td>
</tr>
<tr>
<td><code>-yScales.primary.displayOnAxis</code></td>
<td>Where to display the Y axis; must be exactly one of the following depending on whether your bar chart is oriented vertically or horizontally:<ul><li>left</li><li>right</li></ul></td>
<td align="right">No; the default is left</td>
</tr>
<tr>
<td><code>-tooltip.nameField</code></td>
<td>The field containing the category to display in tooltips</td>
<td align="right">No; defaults to the <code>-categoryField</code></td>
</tr>
<tr>
<td><code>-tooltip.valueField</code></td>
<td>The field containing the value to display in tooltips</td>
<td align="right">No; defaults to the -valueField</td>
</tr>
<tr>
<td><code>-tooltip.valueFormat</code></td>
<td>The format for the -tooltip.valueField, using the <a href="https://github.com/mbostock/d3/wiki/Formatting">d3 number formatting syntax</a></td>
<td align="right">No; defaults to the <code>-yScales.primary.tickFormat</code></td>
</tr>
</tbody>
</table>
<p><em>A bar chart example with options</em></p>
<pre><code>read stochastic -source 'cdn' -nhosts 10 -from :10 minutes before 2014-01-01: -to :2014-01-01: -source_type 'metrics' name = 'cpu'
| filter name = 'cpu'
| reduce value = avg(value) by host
| sort value -desc
| view barchart -o {
    categoryField: 'host',
    valueField: 'value',
    title: 'Average CPU % per host for last 10 minutes',
    yScales: {
      primary: {
        tickFormat: '%'
      }
    },
    tooltip: {
      valueFormat: '%'
    }
  }
</code></pre>

<p><img alt="" src="../../images/screenshots/view_barchart_1.png" /></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../events/" class="btn btn-neutral float-right" title="events">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../.." class="btn btn-neutral" title="About"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
          <a href="https://github.com/juttle/juttle-viz" class="icon icon-github" style="float: left; color: #fcfcfc"> GitHub</a>
      
      
        <span><a href="../.." style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../events/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
